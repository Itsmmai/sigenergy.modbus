{
  "triggers": [
    {
      "id": "changedBattery",
      "title": {
        "en": "Battery Charge Changed",
        "nl": "Batterij lading gewijzigd",
        "de": "Batterieladung hat sich verändert"
      },
      "tokens": [
        {
          "name": "charge",
          "type": "number",
          "title": {
            "en": "Battery Charge (%)",
            "nl": "Batterij lading (%)",
            "de": "Batterieladung (%)"
          },
          "example": 66
        }
      ]
    },
    {
      "id": "changedBatteryStatus",
      "title": {
        "en": "Battery status changed",
        "nl": "Batterij status gewijzigd",
        "de": "Batteriestatus hat sich geändert"
      },
      "titleFormatted": {
        "en": "Battery status changed",
        "nl": "Batterij status veranderd",
        "de": "Batteriestatus hat sich geändert"
      },
      "tokens": [
        {
          "name": "status",
          "type": "string",
          "title": {
            "en": "Status",
            "nl": "Status",
            "de": "Status"
          },
          "example": "Fault"
        }
      ]
    },
    {
      "id": "changedExportPower",
      "title": {
        "en": "Power Export Changed (W)",
        "nl": "Power Export gewijzigd (W)",
        "de": "Exportierte Leistung geändert (W)"
      },
      "titleFormatted": {
        "en": "Power Export Changed (W)",
        "nl": "Power Export gewijzigd (W)",
        "de": "Exportierte Leistung verändert (W)"
      },
      "tokens": [
        {
          "name": "measure_power.export",
          "type": "number",
          "title": {
            "en": "Power Export (W)",
            "nl": "Power Export (W)",
            "de": "Exportierte Leistung (W)"
          },
          "example": 303
        }
      ]
    },
    {
      "id": "changedImportPower",
      "title": {
        "en": "Power Import Changed (W)",
        "nl": "Power Import gewijzigd (W)",
        "de": "Importierte Leistung verändert (W)"
      },
      "titleFormatted": {
        "en": "Power Import Changed (W)",
        "nl": "Power Import gewijzigd (W)",
        "de": "Importierte Leistung verändert (W)"
      },
      "tokens": [
        {
          "name": "measure_power.import",
          "type": "number",
          "title": {
            "en": "Power Import (W)",
            "nl": "Power Import (W)",
            "de": "Importierte Leistung (W)"
          },
          "example": 42
        }
      ]
    },
    {
      "id": "changedConsumption",
      "title": {
        "en": "Consumption Changed",
        "nl": "Verbruik gewijzigd",
        "de": "Verbrauch verändert"
      },
      "titleFormatted": {
        "en": "Consumption Changed",
        "nl": "Verbruik gewijzigd",
        "de": "Verbrauch verändert"
      },
      "tokens": [
        {
          "name": "ownconsumption",
          "type": "number",
          "title": {
            "en": "Consumption",
            "nl": "Verbruik",
            "de": "Vebrauch"
          },
          "example": 200
        }
      ]
    },
    {
      "id": "measure_voltage_changed",
      "title": {
        "en": "The voltage changed",
        "nl": "Het voltage is veranderd",
        "de": "Spannung verändert"
      },
      "tokens": [
        {
          "name": "measure_voltage",
          "title": {
            "en": "Voltage",
            "nl": "Voltage",
            "de": "Spannung"
          },
          "type": "number",
          "example": 230
        }
      ]
    },
    {
      "id": "measure_temperature.battery_changed",
      "highlight": true,
      "title": {
        "en": "The battery temperature changed",
        "nl": "De batterij temperatuur is veranderd",
        "de": "Die Batterietemperatur hat sich verändert"
      },
      "tokens": [
        {
          "name": "measure_temperature.battery",
          "title": {
            "en": "Temperature",
            "nl": "Temperatuur",
            "de": "Temperatur"
          },
          "type": "number",
          "example": 23.5
        }
      ]
    },
    {
      "id": "meter_power.import_changed",
      "title": {
        "en": "Total Import Yield changed",
        "nl": "Totale import opbrengst is veranderd",
        "de": "Gesamtimport verändert"
      },
      "tokens": [
        {
          "name": "meter_power.import",
          "title": {
            "en": "Energy",
            "nl": "Energie",
            "de": "Energie"
          },
          "type": "number",
          "example": 25
        }
      ]
    },
    {
      "id": "meter_power.export_changed",
      "title": {
        "en": "Total Export Yield changed",
        "nl": "Totale Export opbrengst is veranderd",
        "de": "Gesamtexport verändert"
      },
      "tokens": [
        {
          "name": "meter_power.export",
          "title": {
            "en": "Energy",
            "nl": "Energie",
            "de": "Energie"
          },
          "type": "number",
          "example": 25
        }
      ]
    },
    {
      "id": "measure_power.import_changed",
      "highlight": true,
      "title": {
        "en": "The grid import power changed",
        "nl": "Het net import vermogen is veranderd",
        "de": "Netzimportleistung verändert"
      },
      "tokens": [
        {
          "name": "measure_power.import",
          "title": {
            "en": "Power",
            "nl": "Vermogen",
            "de": "Leistung"
          },
          "type": "number",
          "example": 100
        }
      ]
    },
    {
      "id": "measure_power.export_changed",
      "highlight": true,
      "title": {
        "en": "The grid export power changed",
        "nl": "Het net export vermogen is veranderd",
        "de": "Netzexportleistung verändert"
      },
      "tokens": [
        {
          "name": "measure_power.export",
          "title": {
            "en": "Power",
            "nl": "Vermogen",
            "de": "Leistung"
          },
          "type": "number",
          "example": 100
        }
      ]
    },
    {
      "id": "measure_power.batt_discharge_changed",
      "highlight": true,
      "title": {
        "en": "The battery discharge power changed",
        "nl": "Het batterij ontlaad vermogen is veranderd",
        "de": "Batterieentladeleistung verändert"
      },
      "tokens": [
        {
          "name": "measure_power.batt_discharge",
          "title": {
            "en": "Power",
            "nl": "Vermogen",
            "de": "Leistung"
          },
          "type": "number",
          "example": 100
        }
      ]
    },
    {
      "id": "measure_power.batt_charge_changed",
      "highlight": true,
      "title": {
        "en": "The battery charge power changed",
        "nl": "Het batterij oplaad vermogen is veranderd",
        "de": "Batterieladeleistung verändert"
      },
      "tokens": [
        {
          "name": "measure_power.batt_charge",
          "title": {
            "en": "Power",
            "nl": "Vermogen",
            "de": "Leistung"
          },
          "type": "number",
          "example": 100
        }
      ]
    }                   
  ],
  "conditions": [
    {
      "id": "batterylevel",
      "title": {
        "en": "Battery !{{is|isn't}} higher than"
      },
      "hint": {
        "en": "Battery charged in percentage"
      },
      "args": [
        {
          "name": "charged",
          "type": "number"
        }
      ]
    },
    {
      "id": "batterycharge",
      "title": {
        "en": "Battery charging !{{is|isn't}} higher than"
      },
      "hint": {
        "en": "Battery charing in watts"
      },
      "args": [
        {
          "name": "charging",
          "type": "number"
        }
      ]
    },
    {
      "id": "batterydischarge",
      "title": {
        "en": "Battery discharging !{{is|isn't}} higher than"
      },
      "hint": {
        "en": "Battery discharing in watts"
      },
      "args": [
        {
          "name": "discharging",
          "type": "number"
        }
      ]
    },
    {
      "id": "gridexport",
      "title": {
        "en": "Grid export !{{is|isn't}} higher than"
      },
      "hint": {
        "en": "Grid export"
      },
      "args": [
        {
          "name": "export",
          "type": "number"
        }
      ]
    },
    {
      "id": "gridimport",
      "title": {
        "en": "Grid import !{{is|isn't}} higher than"
      },
      "hint": {
        "en": "Grid import"
      },
      "args": [
        {
          "name": "import",
          "type": "number"
        }
      ]
    },
    {
      "id": "solarbattcharge",
      "title": {
        "en": "Inverter + Battery !{{is|isn't}} higher than"
      },
      "hint": {
        "en": "Inverter plus battery charging in watts"
      },
      "args": [
        {
          "name": "charging",
          "type": "number"
        }
      ]
    },
    {
      "id": "changedBatteryStatus",
      "title": {
        "en": "Battery status is"
      },
      "titleFormatted": {
        "en": "Battery status is [[argument_main]]"
      },
      "hint": {
        "en": "Battery status"
      },
      "args": [
        {
          "name": "argument_main",
          "type": "dropdown",
          "values": [
            {
              "id": "0",
              "label": {
                "en": "Off"
              }
            },
            {
              "id": "1",
              "label": {
                "en": "Standby"
              }
            },
            {
              "id": "2",
              "label": {
                "en": "Init"
              }
            },
            {
              "id": "3",
              "label": {
                "en": "Charge"
              }
            },
            {
              "id": "4",
              "label": {
                "en": "Discharge"
              }
            },
            {
              "id": "5",
              "label": {
                "en": "Fault"
              }
            },
            {
              "id": "6",
              "label": {
                "en": "Idle"
              }
            },
            {
              "id": "10",
              "label": {
                "en": "Unknown"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "changedStoragecontrolmode",
      "title": {
        "en": "Storage Control Mode is"
      },
      "titleFormatted": {
        "en": "Storage Control Mode is [[argument_main]]"
      },
      "hint": {
        "en": "Storage Control Mode"
      },      
      "args": [
        {
          "name": "argument_main",
          "type": "dropdown",
          "values": [
            {
              "id": "0",
              "title": {
                "en": "Disabled"
              }
            },
            {
              "id": "1",
              "title": {
                "en": "Maximize Self Consumption"
              }
            },
            {
              "id": "2",
              "title": {
                "en": "Time of Use"
              }
            },
            {
              "id": "3",
              "title": {
                "en": "Backup Only"
              }
            },
            {
              "id": "4",
              "title": {
                "en": "Remote Control"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "changedStoragedefaultmode",
      "title": {
        "en": "Storage Charge/Discharge Mode is"
      },
      "titleFormatted": {
        "en": "Storage Charge/Discharge Mode is [[argument_main]]"
      },
      "hint": {
        "en": "Storage Charge/Discharge Mode"
      },          
      "args": [
        {
          "name": "argument_main",
          "type": "dropdown",
          "values": [
            {
              "id": "-1",
              "title": {
                "en": "Disabled"
              }
            },
            {
              "id": "0",
              "title": {
                "en": "Off"
              }
            },
            {
              "id": "1",
              "title": {
                "en": "Charge excess PV power only"
              }
            },
            {
              "id": "2",
              "title": {
                "en": "Charge from PV 1st, before producing to AC"
              }
            },
            {
              "id": "3",
              "title": {
                "en": "Charge from PV+AC"
              }
            },
            {
              "id": "4",
              "title": {
                "en": "Maximize export"
              }
            },
            {
              "id": "5",
              "title": {
                "en": "Discharge to meet loads consumption"
              }
            },
            {
              "id": "7",
              "title": {
                "en": "Maximize self-consumption"
              }
            }
          ]
        }
      ]
    }    
  ],
  "actions": [
    {
      "id": "storagecontrolmode",
      "title": {
        "en": "Storage Control Mode"
      },
      "args": [
        {
          "name": "mode",
          "type": "dropdown",
          "values": [
            {
              "id": "0",
              "title": {
                "en": "Disabled"
              }
            },
            {
              "id": "1",
              "title": {
                "en": "Maximize Self Consumption"
              }
            },
            {
              "id": "2",
              "title": {
                "en": "Time of Use"
              }
            },
            {
              "id": "3",
              "title": {
                "en": "Backup Only"
              }
            },
            {
              "id": "4",
              "title": {
                "en": "Remote Control"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "storagedefaultmode",
      "title": {
        "en": "Storage Charge/Discharge Mode"
      },
      "args": [
        {
          "name": "mode",
          "type": "dropdown",
          "values": [
            {
              "id": "-1",
              "title": {
                "en": "Disabled"
              }
            },
            {
              "id": "0",
              "title": {
                "en": "Off"
              }
            },
            {
              "id": "1",
              "title": {
                "en": "Charge excess PV power only"
              }
            },
            {
              "id": "2",
              "title": {
                "en": "Charge from PV 1st, before producing to AC"
              }
            },
            {
              "id": "3",
              "title": {
                "en": "Charge from PV+AC"
              }
            },
            {
              "id": "4",
              "title": {
                "en": "Maximize export"
              }
            },
            {
              "id": "5",
              "title": {
                "en": "Discharge to meet loads consumption"
              }
            },
            {
              "id": "7",
              "title": {
                "en": "Maximize self-consumption"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "setcharging",
      "title": {
        "en": "Set Charge power"
      },
      "args": [
        {
          "type": "dropdown",
          "name": "chargepower",
          "values": [
            {
              "id": "0",
              "label": {
                "en": "0W"
              }
            },            
            {
              "id": "500",
              "label": {
                "en": "500W"
              }
            },
            {
              "id": "1000",
              "label": {
                "en": "1000W"
              }
            },
            {
              "id": "1500",
              "label": {
                "en": "1500W"
              }
            },
            {
              "id": "2000",
              "label": {
                "en": "2000W"
              }
            },
            {
              "id": "2500",
              "label": {
                "en": "2500W"
              }
            },
            {
              "id": "3000",
              "label": {
                "en": "3000W"
              }
            },
            {
              "id": "4000",
              "label": {
                "en": "4000W"
              }
            },
            {
              "id": "5000",
              "label": {
                "en": "5000W"
              }
            },
            {
              "id": "6600",
              "label": {
                "en": "6600W"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "setdischarging",
      "title": {
        "en": "Set Discharge power"
      },
      "args": [
        {
          "type": "dropdown",
          "name": "dischargepower",
          "values": [
            {
              "id": "0",
              "label": {
                "en": "0W"
              }
            },              
            {
              "id": "500",
              "label": {
                "en": "500W"
              }
            },
            {
              "id": "1000",
              "label": {
                "en": "1000W"
              }
            },
            {
              "id": "1500",
              "label": {
                "en": "1500W"
              }
            },
            {
              "id": "2000",
              "label": {
                "en": "2000W"
              }
            },
            {
              "id": "2500",
              "label": {
                "en": "2500W"
              }
            },
            {
              "id": "3000",
              "label": {
                "en": "3000W"
              }
            },
            {
              "id": "4000",
              "label": {
                "en": "4000W"
              }
            },
            {
              "id": "5000",
              "label": {
                "en": "5000W"
              }
            },
            {
              "id": "6600",
              "label": {
                "en": "6600W"
              }
            }
          ]
        }
      ]
    }
  ]
}